<div id="addPostModal">



<div class="container">
    <div class="accordion" id="accordionExample">
        <h4>{{delposts.title}}</h4>
        <form class="deleteUserPostForm">
            <pre>
                <code class="form-control dashboardEditText card-body bg-dark rounded text-white">{{delposts.post_content}}</code>
            </pre>
            <button type="submit" class="btn btn-danger">Confirm Delete</button>
        </form>

    </div>
</div>



<script>

    //from url
    const delID = document.location.toString().split('/')[document.location.toString().split('/').length-1]
    console.log("delID = ",delID)
    
    const deleteUserPostForm = document.querySelector(".deleteUserPostForm")

    //from db
    const delpostsId = {{delposts.id}}
    console.log("delete id ==== ", delpostsId)





    function deleteUserPost(event) {
        event.preventDefault();


        console.log("delpostsId id 2 ==== ", delpostsId)
        fetch(`http://localhost:3001/api/posts/${delpostsId}`, {
            method: "DELETE",
        }).then((delUserPostData) => {
            console.log(delUserPostData)
            document.location.replace('/dashboard')
        }).catch((err) => {
            console.error(err)
        })
    }


    deleteUserPostForm.addEventListener('submit', deleteUserPost)


</script>




<style>
    body {}

    .accordion {
        margin: 40px 0;
    }

    .accordion .item {
        border: none;
        margin-bottom: 50px;
        background: none;
    }

    .t-p {
            {
                {
                !-- color: rgb(193 206 216);
                --
            }
        }

            {
                {
                !-- color: white;
                --
            }
        }

        color:black;
        padding: 40px 30px 0px 30px;

            {
                {
                !-- background: #232323;
                --
            }
        }

        background:rgba(193, 206, 216, 0.3);
    }

    .accordion .item .item-header h2 button.btn.btn-link {
        background: #333435;
        color: white;
        border-radius: 0px;
        font-family: 'Poppins';
        font-size: 16px;
        font-weight: 400;
        line-height: 2.5;
        text-decoration: none;
    }

    .accordion .item .item-header {
        border-bottom: none;
        background: transparent;
        padding: 0px;
        margin: 2px;
    }

    .accordion .item .item-header h2 button {
        color: white;
        font-size: 20px;
        padding: 15px;
        display: block;
        width: 100%;
        text-align: left;
    }

    .accordion .item .item-header h2 .downarrow {
        float: right;
        font-size: 30px;
        color: #eca300;
        background-color: black;
        width: 60px;
        height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
    }

    button.btn.btn-link.collapsed i {
        transform: rotate(0deg);
    }

    button.btn.btn-link i {
        transform: rotate(180deg);
        transition: 0.5s;
    }
</style>